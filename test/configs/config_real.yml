# Real Dataset Testing Configuration for HPDEX vs pdex
# Use: python test.py config_real_data.yml

# Test Environment
environment:
  num_workers: 4
  memory_limit_gb: 8.0
  random_seed: 42
  verbose: true
  
# Test Categories (focus on real data benchmarks)
test_categories:
  kernel_consistency: false
  pipeline_consistency: false  
  performance_kernels: false
  performance_pipeline: false
  performance_streaming: false
  edge_cases: false
  real_data_benchmarks: true   # Only run real data benchmarks

# Real Data Benchmarks (HPDEX vs pdex on real datasets)
real_data_benchmarks:
  datasets_dir: "./test_data/"  # Directory containing real datasets
  correlation_threshold: 0.95  # Minimum correlation for consistency 
  timeout_seconds: 180         # 3 minutes timeout per dataset
  max_cells: 1000000           # Limit cells for performance testing
  max_genes: 100000            # Limit genes for performance testing
  sample_fraction: 1.0         # Fraction of data to use (1.0 = all)
  
  datasets:
     - name: "hepg2"
       file: "hepg2.h5ad" 
       groupby_key: "gene"
       reference_group: "non-targeting"
       skip_if_no_groups: true

# Output Configuration  
output:
  save_results: true
  results_dir: "./test_results"
  save_plots: false
  detailed_logs: true
  
# Error Handling
error_handling:
  continue_on_error: true  # Continue testing even if some datasets fail
  max_retries: 1
  retry_delay: 1.0  # seconds
