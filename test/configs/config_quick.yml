# Quick Test Configuration for HPDEX
# Use: python test.py config_quick.yml

# Test Environment
environment:
  num_workers: 2
  memory_limit_gb: 4.0
  random_seed: 42
  verbose: true
  
# Test Categories (quick subset)
test_categories:
  kernel_consistency: true      
  pipeline_consistency: true   
  performance_kernels: false   # Skip for quick test
  performance_pipeline: false  # Skip for quick test
  performance_streaming: false # Skip for quick test  
  edge_cases: true             
  
# Kernel Consistency Tests (smaller cases)
kernel_tests:
  tolerance: 0.000001  # More realistic tolerance for floating point comparisons
  test_cases:
    - name: "small_float"
      n_genes: 10
      n_ref: 20
      n_tar: 15
      data_type: "float"
      add_ties: false
      
    - name: "small_int"
      n_genes: 10
      n_ref: 20
      n_tar: 15
      data_type: "int"
      add_ties: true

# Pipeline Consistency Tests (smaller datasets)
pipeline_tests:
  correlation_threshold: 0.90  # Slightly lower for quick test
  fdr_tolerance: 0.05         
  pdex_batch_size: 100        # Smaller batch for quick test
  test_datasets:
    - name: "tiny_sc"
      n_cells: 200
      n_genes: 100
      n_groups: 3
      differential_fraction: 0.2
      effect_size: 1.5

# Edge Cases (simplified)
edge_cases:
  test_scenarios:
    - name: "tiny_groups"
      n_cells: 15
      n_genes: 20
      min_group_size: 3
      
    - name: "constant_genes"
      n_cells: 100
      n_genes: 50
      constant_gene_fraction: 0.3

# Output Configuration  
output:
  save_results: true
  results_dir: "./test_results"
  save_plots: false  # Skip plots for quick test
  detailed_logs: false
  
# Error Handling
error_handling:
  continue_on_error: true
  max_retries: 1
  retry_delay: 0.5
